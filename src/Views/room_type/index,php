<?php
$controller = 'room_type';
$view = __FILE__;

include __DIR__ . '/../layouts/main.php';
?>

<h2>Room Type</h2>
<div class="mb-3">
    <label class="form-label">Hotel</label>
    <select class="form-select" onchange="window.location='?controller=room_type&action=index&hotel_id='+this.value">
        <?php foreach ($hotels as $hotel): ?>
            <option value="<?php echo $hotel->id; ?>" <?php echo $selectedHotelId == $hotel->id ? 'selected' : ''; ?>>
                <?php echo htmlspecialchars($hotel->name); ?>
            </option>
        <?php endforeach; ?>
    </select>
</div>
<a href="?controller=room_type&action=form&hotel_id=<?php echo $selectedHotelId; ?>" class="btn btn-primary mb-3">Add Room Type</a>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>SN</th>
            <th>Room Type Description</th>
            <th>Clip Or Picture</th>
            <th>Remark</th>
            <th>Account</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        <?php foreach ($roomTypes as $roomType): ?>
        <tr>
            <td><?php echo $roomType->id; ?></td>
            <td><?php echo htmlspecialchars($roomType->description); ?></td>
            <td><?php echo htmlspecialchars($roomType->clip_or_picture ?? ''); ?></td>
            <td><?php echo htmlspecialchars($roomType->remark ?? ''); ?></td>
            <td><?php echo htmlspecialchars($roomType->account); ?></td>
            <td>
                <a href="?controller=room_type&action=form&id=<?php echo $roomType->id; ?>" class="btn btn-sm btn-warning">Edit</a>
                <a href="?controller=room_type&action=delete&id=<?php echo $roomType->id; ?>" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure?')">Delete</a>
            </td>
        </tr>
        <?php endforeach; ?>
    </tbody>
</table>